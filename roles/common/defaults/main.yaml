---
# =============================================================================
# Disk Configuration
# =============================================================================
#
# Select a predefined disk profile or use "custom" with disk_custom variable.
# Set to "none" to skip disk setup entirely.
#
# Available profiles:
#   - aws_auto: Auto-discover instance store disks (recommended for AWS)
#   - aws_raid: RAID-1 for rollup (2 disks), explicit paths
#   - aws_simple: Single disk for rollup, separate logs disk
#   - hetzner: Single disk for rollup, logs on root volume
#   - none: Skip disk setup (use existing mounts or root volume)
#   - custom: User provides disk_custom variable with full config
#
disk_profile: "none"

# Predefined disk profiles
disk_profiles:
  # Auto-discover AWS instance store disks by model name
  # Disks are sorted alphabetically and assigned by index
  aws_raid:
    auto_discover: true
    use_raid: true
    raid_disk_count: 2        # Number of disks to use for RAID (first N discovered)
    logs_disk_index: 2        # Index of disk for logs (0-based), null to skip
    da_disk_index: null       # Index of disk for DA (0-based), null to skip

  raid_manual:
    use_raid: true
    raid_disks:
      - "/dev/nvme1n1"
      - "/dev/nvme2n1"
    logs_disk: ""
    da_disk: ""

  aws_simple:
    use_raid: false
    rollup_disk: "/dev/nvme1n1"
    logs_disk: "/dev/nvme2n1"
    da_disk: ""

  hetzner:
    use_raid: false
    rollup_disk: "/dev/nvme1n1"
    logs_disk: ""
    da_disk: ""

  none:
    use_raid: false
    rollup_disk: ""
    logs_disk: ""
    da_disk: ""

# Custom disk configuration (used when disk_profile: "custom")
# disk_custom:
#   use_raid: true
#   raid_disks: ["/dev/sda", "/dev/sdb"]
#   logs_disk: "/dev/sdc"
#   da_disk: "/dev/sdd"

# Reformat existing disks. Use with caution - this will DESTROY all data!
# When true: unmounts existing mounts, destroys RAID arrays, reformats disks
reformat_disks: false

# Mount points (typically no need to change these)
rollup_storage_dir: "/mnt/rollup"
rollup_log_dir: "/mnt/logs"  # Only used when logs_disk is configured; otherwise journald uses default location
da_store: "/mnt/da"

# File limits for users
# These are high values suitable for services that need to handle many connections
max_open_files: 1000000

# Uncomment this if the custom host label is needed for monitoring.
# Will be used in telegraf and grafana services
# custom_host_label: "soak-benchmark-aws-2025-q1"

# Telegraf configuration
influxdb_remote_url: "http://influxdb.sov-obs.xyz:8086"
influxdb_org: "Sovereign Labs"
influxdb_bucket: "sov-dev"

# Loki configuration
grafana_loki_url: "https://loki.sov-obs.xyz/loki/api/v1/push"
grafana_loki_username: "sov-logger"

# Tempo configuration
grafana_tempo_endpoint: "tempo.sov-obs.xyz:443"
grafana_tempo_username: "sov-logger"

# Option for a rollup node to start exporting or not. But loki and tempo will always be setup.
grafana_telemetry_enabled: true

# PostgreSQL configuration
# Local PostgreSQL is automatically installed if rollup_sequencer_postgres_connection_string is not provided
postgres_db_name: "rollup"
postgres_db_user: "rollup"
postgres_db_password: "rollup_secure_password"
